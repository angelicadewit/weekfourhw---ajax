{"version":3,"sources":["main.js"],"names":["API_KEY","termEl","document","getElementById","locationEl","searchBtn","resultsEl","addEventListener","e","preventDefault","queryTerm","value","location","searchYelp","writeCheckedIds","ids","getCheckedIds","output","join","checkedCbs","querySelectorAll","i","length","push","id","axios","get","params","headers","then","response","console","log","data","generateSuccessHTMLOutput","checkbox","checkboxes","getElementsByName","checkboxesChecked","checked","businesses","forEach","$li","createElement","$h2","$pAddress","$pCity","$imgEl","innerHTML","business","url","name","price","rating","src","image_url","style","width","height","address1","city","zip_code","marginBottom","appendChild"],"mappings":"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","file":"main.js","sourcesContent":["(function() {\n\nconst API_KEY = \"U5rQPUaVIkcyszlF6HT43gOJKsl9C2Riq0hFHAGt9nWm6eVQiZdIn39X1Un0wu-5QuTpG43jdXTPT2kEh0lyFQdv4Nkdv3uZJP-kurKrCo7z1xXNlpMaLAgYTGPiWnYx\"\n\nconst termEl = document.getElementById('term');\nconst locationEl = document.getElementById('location');\nconst searchBtn = document.getElementById('search');\nconst resultsEl = document.getElementById('results');\n\nsearchBtn.addEventListener('click',function(e) {\n    e.preventDefault();\n    const queryTerm = termEl.value\n    const location = locationEl.value\n    searchYelp(location,queryTerm)\n\n})\n\nfunction writeCheckedIds() {\n  var ids = getCheckedIds();\n  var output = document.getElementById('ids');\n  output.value = ids.join(', ');\n}\nfunction getCheckedIds() {\n  var checkedCbs = document.querySelectorAll('#priceTree input[type=\"checkbox\"]:checked');\nvar ids = [];\nfor (var i = 0; i < checkedCbs.length; i++) ids.push(checkedCbs[i].id);\n  return ids;\n}\n\n\nfunction searchYelp(location, queryTerm){\n  axios.get('https://circuslabs.net/proxies/yelp-fusion-proxy/', {\n      params: {\n        '_ep': '/businesses/search',\n        'term': queryTerm,\n        'location': location,\n      },\n      headers: {\n        'Authorization': 'Bearer ' + API_KEY\n      }\n    }).then(function (response) {\n        console.log('response:', response.data, response)\n        generateSuccessHTMLOutput(response);\n      });    \n}\n\nfunction checkbox(){\n  var checkboxes = document.getElementsByName('price');\n  var checkboxesChecked = [];\n  for (var i=0; i<checkboxes.length; i++) {\n     if (checkboxes[i].checked) {\n        checkboxesChecked.push(checkboxes[i].value);\n     }\n  }\n  console.log(checkboxes)\n}\n\ncheckbox()\n\nfunction generateSuccessHTMLOutput(response) {\n  response.data.businesses.forEach(business => {\n      let $li = document.createElement(\"li\")\n      let $h2 = document.createElement(\"h2\")\n      let $pAddress = document.createElement(\"p\")\n      let $pCity = document.createElement(\"p\")\n      const $imgEl = document.createElement('img');\n      \n      $h2.innerHTML = '<a href=\"' + business.url + '\">' + business.name + '</a>' + \" - \" + business.price + \" - \" + business.rating\n      $imgEl.src = business.image_url;\n      $imgEl.style.width = '300px';\n      $imgEl.style.height = '200px';\n      $pAddress.innerHTML = business.location.address1\n      $pCity.innerHTML = business.location.city + \" \" + business.location.zip_code\n      $pCity.style.marginBottom = \"5px\";\n\n      $li.appendChild($h2);\n      $li.appendChild($imgEl);\n      $li.appendChild($pAddress);\n      $li.appendChild($pCity);\n\n\n      resultsEl.appendChild($li)\n  })\n}\n\n\n\n}());"]}